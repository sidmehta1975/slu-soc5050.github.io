<!DOCTYPE html>
  
  
  
  
   <html class="no-js"> 

  <head lang="en-us">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=10" />
    <title>Week 08 - Difference of Means (Part 2) - SOC 4930 &amp; SOC 5050</title>
    <meta name="generator" content="Hugo 0.30" />

    
    <meta name="description" content="SOC 4930 &amp; SOC 5050: Quantiative Analysis - Applied Inferential Statistics">
    
    <link rel="canonical" href="https://slu-soc5050.github.io/week-08/">
    
    <meta name="author" content="Christopher Prener, Ph.D.">
    

    <meta property="og:url" content="https://slu-soc5050.github.io/week-08/">
    <meta property="og:title" content="SOC 4930 &amp; SOC 5050">
    <meta property="og:image" content="https://slu-soc5050.github.io/images/logo.png">
    <meta name="apple-mobile-web-app-title" content="SOC 4930 &amp; SOC 5050">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="shortcut icon" type="image/x-icon" href="https://slu-soc5050.github.io/images/favicon.ico">
    <link rel="icon" type="image/x-icon" href="https://slu-soc5050.github.io/images/favicon.ico">

    <style>
      @font-face {
        font-family: 'Icon';
        src: url('https://slu-soc5050.github.io/fonts/icon.eot');
        src: url('https://slu-soc5050.github.io/fonts/icon.eot')
               format('embedded-opentype'),
             url('https://slu-soc5050.github.io/fonts/icon.woff')
               format('woff'),
             url('https://slu-soc5050.github.io/fonts/icon.ttf')
               format('truetype'),
             url('https://slu-soc5050.github.io/fonts/icon.svg')
               format('svg');
        font-weight: normal;
        font-style: normal;
      }
    </style>

    <link rel="stylesheet" href="https://slu-soc5050.github.io/stylesheets/application.css">
    <link rel="stylesheet" href="https://slu-soc5050.github.io/stylesheets/temporary.css">
    <link rel="stylesheet" href="https://slu-soc5050.github.io/stylesheets/palettes.css">
    <link rel="stylesheet" href="https://slu-soc5050.github.io/stylesheets/highlight/highlight.css">

    
    
    
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ubuntu:400,700|Ubuntu&#43;Mono">
    <style>
      body, input {
        font-family: 'Ubuntu', Helvetica, Arial, sans-serif;
      }
      pre, code {
        font-family: 'Ubuntu Mono', 'Courier New', 'Courier', monospace;
      }
    </style>

    
    <script src="https://slu-soc5050.github.io/javascripts/modernizr.js"></script>

    

    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/gist-embed/2.4/gist-embed.min.js"></script>
  </head>
  <body class="palette-primary-deep-orange palette-accent-blue">



	
	


<div class="backdrop">
	<div class="backdrop-paper"></div>
</div>

<input class="toggle" type="checkbox" id="toggle-drawer">
<input class="toggle" type="checkbox" id="toggle-search">
<label class="toggle-button overlay" for="toggle-drawer"></label>

<header class="header">
	<nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        Week 08 - Difference of Means (Part 2)
      </div>
    </div>

    

    
    <div class="button button-github" role="button" aria-label="GitHub">
      <a href="https://github.com/slu-soc5050" title="@slu-soc5050 on GitHub" target="_blank" class="toggle-button icon icon-github"></a>
    </div>
    
    
        
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
</header>

<main class="main">
	<div class="drawer">
		<nav aria-label="Navigation">
  <a href="https://github.com/slu-soc5050/Core-Documents" class="project">
    <div class="banner">
      
        <div class="logo">
          <img src="https://slu-soc5050.github.io/images/logo.png">
        </div>
      
      <div class="name">
        <strong>SOC 4930 &amp; SOC 5050 </strong>
        
          <br>
          slu-soc5050/Core-Documents
        
      </div>
    </div>
  </a>

  <div class="scrollable">
    <div class="wrapper">
      
        <ul class="repo">
          <li class="repo-download">
            <a href="https://github.com/slu-soc5050/Core-Documents/archive/master.zip" target="_blank" title="Download" data-action="download">
              <i class="icon icon-download"></i> Download
            </a>
          </li>
          <li class="repo-stars">
            <a href="https://github.com/slu-soc5050/Core-Documents/stargazers" target="_blank" title="Stargazers" data-action="star">
              <i class="icon icon-star"></i> Stars
              <span class="count">&ndash;</span>
            </a>
          </li>
        </ul>
        <hr>
      

      <div class="toc">
        
        <ul>
          




<li>
  
    



<a  title="About" href="https://slu-soc5050.github.io/">
	
	About
</a>



  
</li>



<li>
  
    



<a  title="Course Resources" href="https://slu-soc5050.github.io/course-resources/">
	
	Course Resources
</a>



  
</li>



<li>
  
    



<a  title="Getting Started" href="https://slu-soc5050.github.io/getting-started/">
	
	Getting Started
</a>



  
</li>



<li>
  
    



<a  title="Week 01 - Course Introduction" href="https://slu-soc5050.github.io/week-01/">
	
	Week 01 - Course Introduction
</a>



  
</li>



<li>
  
    



<a  title="Week 02 - Working with Data (1)" href="https://slu-soc5050.github.io/week-02/">
	
	Week 02 - Working with Data (1)
</a>



  
</li>



<li>
  
    



<a  title="Week 03 - Distributions" href="https://slu-soc5050.github.io/week-03/">
	
	Week 03 - Distributions
</a>



  
</li>



<li>
  
    



<a  title="Week 04 - Probability" href="https://slu-soc5050.github.io/week-04/">
	
	Week 04 - Probability
</a>



  
</li>



<li>
  
    



<a  title="Week 05 - Random Variables" href="https://slu-soc5050.github.io/week-05/">
	
	Week 05 - Random Variables
</a>



  
</li>



<li>
  
    



<a  title="Week 06 - Inference" href="https://slu-soc5050.github.io/week-06/">
	
	Week 06 - Inference
</a>



  
</li>



<li>
  
    



<a  title="Week 07 - Mean Difference (1)" href="https://slu-soc5050.github.io/week-07/">
	
	Week 07 - Mean Difference (1)
</a>



  
</li>



<li>
  
    



<a class="current" title="Week 08 - Mean Difference (2)" href="https://slu-soc5050.github.io/week-08/">
	
	Week 08 - Mean Difference (2)
</a>


<ul id="scrollspy">
</ul>


  
</li>



<li>
  
    



<a  title="License" href="https://slu-soc5050.github.io/license/">
	
	License
</a>



  
</li>


        </ul>
        

        
        <hr>
        <span class="section">The author</span>
        
        <ul>
          

          
          <li>
            <a href="https://github.com/slu-soc5050" target="_blank" title="@slu-soc5050 on GitHub">
              @slu-soc5050 on GitHub
            </a>
          </li>
          

          
          <li>
            <a href="mailto:chris.prener@slu.edu" title="Email of chris.prener@slu.edu">
              Contact via email
            </a>
          </li>
          
        </ul>
        
      </div>
    </div>
  </div>
</nav>

	</div>

	<article class="article">
		<div class="wrapper">
			<h1>Week 08 - Difference of Means (Part 2) </h1>

			

<h2 id="lecture-slides">Lecture Slides</h2>

<script async class='speakerdeck-embed' data-id='6f5a77f5d7144394b05b2f08f6e0d844' data-ratio='1.33333333333333' src='//speakerdeck.com/assets/embed.js'></script>

<h2 id="weekly-prep">Weekly Prep</h2>

<h3 id="instructions">Instructions</h3>

<p>The instructions for this week&rsquo;s weekly prep are available in the <a href="https://github.com/slu-soc5050/Week-08/blob/master/WeeklyPrep/week-08-prep.pdf"><code>Week-08</code> GitHub repository</a>. Make sure you submit your work and answers by the beginning of class on Monday!</p>

<h3 id="replication">Replication</h3>


<div style="position: relative; padding-bottom: 56.25%; padding-top: 30px; height: 0; overflow: hidden;">
  <iframe src="//www.youtube.com/embed/X4S7wIyLFTs" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;" allowfullscreen frameborder="0" title="YouTube Video"></iframe>
 </div>


<h2 id="new-and-updated-packages-for-class">New and Updated Packages for Class</h2>

<p>We are going to be using a bunch of new packages this week! Here is a list of packages to install using <code>install.packages()</code>:</p>

<ul>
<li><code>car</code></li>
<li><code>effsize</code></li>
<li><code>gapminder</code></li>
<li><code>ggridges</code></li>
<li><code>pwr</code></li>
<li><code>stargazer</code></li>
</ul>

<p>You will also need to install a new package, <code>stlData</code>, from GitHub and update the <code>testDriveR</code> package:</p>

<pre><code class="language-r">library(devtools)
devtools::install_github(&quot;chris-prener/stlData&quot;)
devtools::install_github(&quot;chris-prener/testDriveR&quot;)
</code></pre>

<h2 id="recodes-from-the-lecture">Recodes from the Lecture</h2>

<p>We need a binary outcome to work though the examples in the lecture that use the <code>mpg</code> data. We&rsquo;ll make a variable called <code>foreign</code> that is <code>TRUE</code> if the vehicle is produced by a manufacturer whose headquarters is in another country.</p>

<script data-gist-id="ce737d7cfb4c8b1a2ab137c3e89d1349"></script>

<h2 id="tips-for-working-with-paired-data">Tips for Working with Paired Data</h2>

<p>The lab and the problem set for this week both include paired data, and you may run into a couple of issues that I did not sufficiently highlight in the lecture. First, I want to provide some code for recreating these issues. This code creates two data frames from the <code>stlIncome</code> data in the <code>stlData</code> package:</p>

<script data-gist-id="cc9eeccf29e437025049026f8faf9a88"></script>

<p><code>incomeLong</code> has appropriately arranged long data, with two observations for each census tract. <code>incomeWide</code> has the outcome of converting <code>incomeLong</code> to wide.</p>

<p>As an aside, this code also includes examples of how to further tidy data after gathering it - I rename the <code>key</code> variable&rsquo;s values, and I arrange the data so that pairs of <code>geoID</code> data are arranged one after the other in the tibble.</p>

<h3 id="issues-with-plots">Issues with Plots</h3>

<p>The first issue that may arise is related to plotting data that are long. Following the examples from class, you may be tempted to use the code under <code>plot 1</code>. It will produce the following plot:
<img src="https://slu-soc5050.github.io/images/week-08-img01.png" alt="image" /></p>

<p>Even those we specified that <code>year</code> should be the <code>x</code> variable, it does not provide two boxes on the plot. To do this correctly, we need to include a third option in our aesthetic mapping called <code>group</code> that is set equal to our <code>year</code> variable. The code under <code>plot 2</code> does this, and will produce the following plot:
<img src="https://slu-soc5050.github.io/images/week-08-img02.png" alt="image" /></p>

<p>Now we have two boxes, but the x-axis does not look right. That is because <code>year</code> is stored as a numeric variable, so <code>ggplot2</code> allows for the possibility that there <em>could</em> be values other than <code>2010</code> and <code>2015</code>. To remedy this, we can wrap the <code>year</code> variable&rsquo;s reference as the <code>x</code> variable in the <code>as.factor()</code> function. The code under <code>plot 3</code> does this, and will produce the following plot:
<img src="https://slu-soc5050.github.io/images/week-08-img03.png" alt="image" /></p>

<h3 id="issues-with-variable-names">Issues with Variable Names</h3>

<p>When we convert <code>incomeLong</code> to <code>incomeWide</code>, the variable names become <code>2010</code> and <code>2015</code>. Trying to call a function with these variable names (like <code>mean(incomeWide$2010)</code>) will produce an error. You must wrap numeric variable names in back ticks, as you see at the bottom of the example provided above. This will allow the code to execute properly.</p>


			<aside class="copyright" role="note">
				
				&copy; 2017 Licensed under a Creative Commons Attribution 4.0 International License &ndash;
				
				Documentation built with
				<a href="https://www.gohugo.io" target="_blank">Hugo</a>
				using the
				<a href="http://github.com/digitalcraftsman/hugo-material-docs" target="_blank">Material</a> theme.
			</aside>

			<footer class="footer">
				

<nav class="pagination" aria-label="Footer">
  <div class="previous">
  
      <a href="https://slu-soc5050.github.io/week-07/" title="Week 07 - Difference of Means (Part 1)">
        <span class="direction">
          Previous
        </span>
        <div class="page">
          <div class="button button-previous" role="button" aria-label="Previous">
            <i class="icon icon-back"></i>
          </div>
          <div class="stretch">
            <div class="title">
              Week 07 - Difference of Means (Part 1)
            </div>
          </div>
        </div>
      </a>
  
  </div>

  <div class="next">
  
      <a href="https://slu-soc5050.github.io/license/" title="License">
        <span class="direction">
          Next
        </span>
        <div class="page">
          <div class="stretch">
            <div class="title">
              License
            </div>
          </div>
          <div class="button button-next" role="button" aria-label="Next">
            <i class="icon icon-forward"></i>
          </div>
        </div>
      </a>
  
  </div>
</nav>





			</footer>
		</div>
	</article>

	<div class="results" role="status" aria-live="polite">
		<div class="scrollable">
			<div class="wrapper">
				<div class="meta"></div>
				<div class="list"></div>
			</div>
		</div>
	</div>
</main>

    <script>
    
      var base_url = 'https:\/\/slu-soc5050.github.io\/';
      var repo_id  = 'slu-soc5050\/Core-Documents';
    
    </script>

    <script src="https://slu-soc5050.github.io/javascripts/application.js"></script>
    

    <script>
      /* Add headers to scrollspy */
      var headers   = document.getElementsByTagName("h2");
      var scrollspy = document.getElementById('scrollspy');

      if(scrollspy) {
        if(headers.length > 0) {
          for(var i = 0; i < headers.length; i++) {
            var li = document.createElement("li");
            li.setAttribute("class", "anchor");

            var a  = document.createElement("a");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", headers[i].innerHTML);
            a.innerHTML = headers[i].innerHTML;

            li.appendChild(a)
            scrollspy.appendChild(li);
          }
        } else {
          scrollspy.parentElement.removeChild(scrollspy)
        }


        /* Add permanent link next to the headers */
        var headers = document.querySelectorAll("h1, h2, h3, h4, h5, h6");

        for(var i = 0; i < headers.length; i++) {
            var a = document.createElement("a");
            a.setAttribute("class", "headerlink");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", "Permanent link")
            a.innerHTML = "#";
            headers[i].appendChild(a);
        }
      }
    </script>

    

    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>

